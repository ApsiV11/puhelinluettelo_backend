{"version":3,"sources":["components/Input.js","components/FilterForm.js","components/Button.js","components/PersonForm.js","components/Number.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Input","text","handleChange","onChange","FilterForm","handleFilterChange","Button","id","type","handleClick","onClick","PersonForm","handleNameChange","handleNumberChange","handleFormSend","Number","name","number","deletePerson","Persons","showPersons","map","person","i","key","url","axios","get","then","response","data","newPerson","post","index","updatedPerson","put","delete","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","useEffect","console","log","personService","setNewPerson","filter","setFilter","notification","setNotification","notificationColor","setNotificationColor","toLowerCase","includes","showNotification","setTimeout","event","target","value","preventDefault","findIndex","window","confirm","catch","error","status","concat","personName","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.09a36c18.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Input = ({text, handleChange}) => (\r\n    <div>\r\n        {text} <input onChange={handleChange} />\r\n    </div>\r\n)\r\n\r\nexport default Input","import React from 'react'\r\nimport Input from './Input'\r\n\r\nconst FilterForm = ({handleFilterChange}) => (\r\n    <form>\r\n      <Input text=\"filter shown with\" handleChange={handleFilterChange} />\r\n    </form>\r\n)\r\n\r\nexport default FilterForm","import React from 'react'\r\n\r\nconst Button = ({id, text, type, handleClick}) => (\r\n    <button id={id} \r\n      type={type} \r\n      onClick={handleClick}\r\n      >{text}</button>\r\n)\r\n\r\nexport default Button","import React from 'react'\r\nimport Input from './Input'\r\nimport Button from './Button'\r\n\r\nconst PersonForm = ({handleNameChange, handleNumberChange, handleFormSend}) => (\r\n    <form>\r\n    <Input text=\"name:\" handleChange={handleNameChange} />\r\n    <Input text=\"number:\" handleChange={handleNumberChange} />\r\n    <Button text=\"add\" type=\"submit\" handleClick={handleFormSend} />\r\n  </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport Button from'./Button'\r\n\r\nconst Number = ({name, number, deletePerson}) => (\r\n    <li>{name} {number} \r\n        <Button id={name}\r\n          text=\"delete\" \r\n          type=\"submit\"\r\n          handleClick={deletePerson}\r\n        /></li>\r\n)\r\n\r\nexport default Number","import React from 'react'\r\nimport Number from './Number'\r\n\r\nconst Persons = ({showPersons, deletePerson}) => (\r\n    <ul>\r\n        {showPersons.map((person, i) => \r\n        <Number \r\n          key={i} \r\n          name={person.name} \r\n          number={person.number} \r\n          deletePerson={deletePerson} />\r\n        )}\r\n    </ul>\r\n)\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst url='/api/persons'\r\n\r\nconst getPersons = () => {\r\n    const request=axios.get(url)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst createPerson = (newPerson) => {\r\n    const request=axios.post(url, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (index, updatedPerson) => {\r\n    const request=axios.put(`${url}/${index}`, updatedPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (index) => {\r\n    const request=axios.delete(`${url}/${index}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getPersons, createPerson, updatePerson, deletePerson}","import React from 'react'\r\n\r\nconst Notification = ({message, color}) => {\r\n    const notificationStyle = {\r\n        color: color,\r\n        background: \"lightgrey\",\r\n        fontSize: \"20px\",\r\n        borderStyle: \"solid\",\r\n        borderRadius: \"5px\",\r\n        padding: \"10px\",\r\n        marginBottom: \"10px\"\r\n      }\r\n    \r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport FilterForm from './components/FilterForm'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([])\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    personService.getPersons().then(persons => setPersons(persons))\r\n  }, [])\r\n\r\n  const [newPerson, setNewPerson] = useState({name:'', number:''})\r\n  const [filter, setFilter] = useState('')\r\n\r\n  const [notification, setNotification] = useState(null)\r\n  const [notificationColor, setNotificationColor] = useState('green')\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewPerson({...newPerson, name:event.target.value})\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewPerson({...newPerson, number:event.target.value})\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const handleFormSend = (event) => {\r\n      event.preventDefault()\r\n\r\n      const index=persons.findIndex((person) =>\r\n      person.name===newPerson.name)\r\n\r\n      if(index!==-1){\r\n        if(window.confirm(`${newPerson.name} is already added to phonebook, replace the old number with a new one?`)){\r\n          personService.updatePerson(persons[index].id, newPerson)\r\n          .then(updatedPerson => {\r\n            setPersons(persons.map(person =>\r\n              person.name!==updatedPerson.name ? person : updatedPerson\r\n            ))\r\n            showNotification(`Successfully updated ${newPerson.name}!`, \"green\")\r\n          })\r\n          .catch(error => {\r\n            console.log(error)\r\n\r\n            if(error.response.data.status===403){\r\n              showNotification(error.response.data.error, \"red\")\r\n            }\r\n            else{\r\n              showNotification(`Information of ${newPerson.name} has already been removed from server`, \"red\")\r\n            }\r\n          })\r\n         }\r\n      }\r\n      else{\r\n        personService.createPerson(newPerson)\r\n        .then(person => {\r\n          showNotification(`Successfully created ${newPerson.name}!`, \"green\")\r\n          setPersons(persons.concat(person))\r\n        })\r\n        .catch(error => {\r\n          console.log(error.response.data)\r\n          showNotification(error.response.data.error, \"red\")\r\n        })\r\n      }\r\n  }\r\n\r\n  const showPersons = persons.filter((person) => \r\n  person.name.toLowerCase()\r\n  .includes(filter.toLowerCase()) \r\n  || person.number.toLowerCase()\r\n  .includes(filter.toLowerCase())\r\n  )\r\n\r\n  const deletePerson = (event) =>{\r\n    const personName=event.target.id\r\n    if(window.confirm(`Delete ${personName}?`)){\r\n      const index=persons.find( person =>\r\n        person.name===personName).id\r\n        personService.deletePerson(index)\r\n        \r\n        setPersons(persons.filter(person =>\r\n          person.name!==personName\r\n        ))\r\n        showNotification(`Successfully deleted ${personName}!`, \"green\")  \r\n    }\r\n  }\r\n\r\n  const showNotification = (text, color) =>{\r\n    setNotification(text)\r\n    setNotificationColor(color)\r\n    setTimeout(() => {\r\n      setNotification(null)\r\n    }, 3000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} color={notificationColor} />\r\n      <FilterForm handleFilterChange={handleFilterChange} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm handleNameChange={handleNameChange}\r\n       handleNumberChange={handleNumberChange}\r\n       handleFormSend={handleFormSend}\r\n       />\r\n      <h3>Numbers</h3>\r\n      <Persons showPersons={showPersons} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}