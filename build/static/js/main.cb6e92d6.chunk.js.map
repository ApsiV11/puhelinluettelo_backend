{"version":3,"sources":["components/Input.js","components/FilterForm.js","components/Button.js","components/PersonForm.js","components/Number.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Input","text","handleChange","onChange","FilterForm","handleFilterChange","Button","id","type","handleClick","onClick","PersonForm","handleNameChange","handleNumberChange","handleFormSend","Number","name","number","deletePerson","Persons","showPersons","map","person","i","key","url","axios","get","then","response","data","newPerson","console","log","request","post","index","updatedPerson","put","delete","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","useEffect","personService","setNewPerson","filter","setFilter","notification","setNotification","notificationColor","setNotificationColor","toLowerCase","includes","showNotification","setTimeout","event","target","value","preventDefault","findIndex","window","confirm","catch","error","concat","personName","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cb6e92d6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Input = ({text, handleChange}) => (\r\n    <div>\r\n        {text} <input onChange={handleChange} />\r\n    </div>\r\n)\r\n\r\nexport default Input","import React from 'react'\r\nimport Input from './Input'\r\n\r\nconst FilterForm = ({handleFilterChange}) => (\r\n    <form>\r\n      <Input text=\"filter shown with\" handleChange={handleFilterChange} />\r\n    </form>\r\n)\r\n\r\nexport default FilterForm","import React from 'react'\r\n\r\nconst Button = ({id, text, type, handleClick}) => (\r\n    <button id={id} \r\n      type={type} \r\n      onClick={handleClick}\r\n      >{text}</button>\r\n)\r\n\r\nexport default Button","import React from 'react'\r\nimport Input from './Input'\r\nimport Button from './Button'\r\n\r\nconst PersonForm = ({handleNameChange, handleNumberChange, handleFormSend}) => (\r\n    <form>\r\n    <Input text=\"name:\" handleChange={handleNameChange} />\r\n    <Input text=\"number:\" handleChange={handleNumberChange} />\r\n    <Button text=\"add\" type=\"submit\" handleClick={handleFormSend} />\r\n  </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport Button from'./Button'\r\n\r\nconst Number = ({name, number, deletePerson}) => (\r\n    <li>{name} {number} \r\n        <Button id={name}\r\n          text=\"delete\" \r\n          type=\"submit\"\r\n          handleClick={deletePerson}\r\n        /></li>\r\n)\r\n\r\nexport default Number","import React from 'react'\r\nimport Number from './Number'\r\n\r\nconst Persons = ({showPersons, deletePerson}) => (\r\n    <ul>\r\n        {showPersons.map((person, i) => \r\n        <Number \r\n          key={i} \r\n          name={person.name} \r\n          number={person.number} \r\n          deletePerson={deletePerson} />\r\n        )}\r\n    </ul>\r\n)\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst url='/api/persons'\r\n\r\nconst getPersons = () => {\r\n    const request=axios.get(url)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst createPerson = (newPerson) => {\r\n    console.log(newPerson)\r\n    const request=axios.post(url, newPerson)\r\n    console.log(request)\r\n    return request.then(response => {\r\n    console.log(response.data)\r\n    return(response.data)\r\n    })\r\n}\r\n\r\nconst updatePerson = (index, updatedPerson) => {\r\n    const request=axios.put(`${url}/${index}`, updatedPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (index) => {\r\n    const request=axios.delete(`${url}/${index}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getPersons, createPerson, updatePerson, deletePerson}","import React from 'react'\r\n\r\nconst Notification = ({message, color}) => {\r\n    const notificationStyle = {\r\n        color: color,\r\n        background: \"lightgrey\",\r\n        fontSize: \"20px\",\r\n        borderStyle: \"solid\",\r\n        borderRadius: \"5px\",\r\n        padding: \"10px\",\r\n        marginBottom: \"10px\"\r\n      }\r\n    \r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport FilterForm from './components/FilterForm'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([])\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    personService.getPersons().then(persons => setPersons(persons))\r\n  }, [])\r\n\r\n  const [newPerson, setNewPerson] = useState({name:'', number:''})\r\n  const [filter, setFilter] = useState('')\r\n\r\n  const [notification, setNotification] = useState(null)\r\n  const [notificationColor, setNotificationColor] = useState('green')\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewPerson({...newPerson, name:event.target.value})\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewPerson({...newPerson, number:event.target.value})\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const handleFormSend = (event) => {\r\n      event.preventDefault()\r\n\r\n      const index=persons.findIndex((person) =>\r\n      person.name===newPerson.name)\r\n\r\n      if(index!==-1){\r\n        if(window.confirm(`${newPerson.name} is already added to phonebook, replace the old number with a new one?`)){\r\n          personService.updatePerson(persons[index].id, newPerson)\r\n          .then(updatedPerson => setPersons(persons.map(person =>\r\n            person.name!==updatedPerson.name ? person : updatedPerson\r\n          )))\r\n          .catch(error => {\r\n            console.log(error)\r\n            showNotification(`Information of ${newPerson.name} has already been removed from srver`, \"red\")\r\n          })\r\n           showNotification(`Successfully updated ${newPerson.name}!`, \"green\")\r\n         }\r\n      }\r\n      else{\r\n        personService.createPerson(newPerson)\r\n        .then(person => setPersons(persons.concat(person)))\r\n        showNotification(`Successfully created ${newPerson.name}!`, \"green\")      \r\n      }\r\n  }\r\n\r\n  const showPersons = persons.filter((person) => \r\n  person.name.toLowerCase()\r\n  .includes(filter.toLowerCase()) \r\n  || person.number.toLowerCase()\r\n  .includes(filter.toLowerCase())\r\n  )\r\n\r\n  const deletePerson = (event) =>{\r\n    const personName=event.target.id\r\n    if(window.confirm(`Delete ${personName}?`)){\r\n      const index=persons.find( person =>\r\n        person.name===personName).id\r\n        personService.deletePerson(index)\r\n        \r\n        setPersons(persons.filter(person =>\r\n          person.name!==personName\r\n        ))\r\n        showNotification(`Successfully deleted ${personName}!`, \"green\")  \r\n    }\r\n  }\r\n\r\n  const showNotification = (text, color) =>{\r\n    setNotification(text)\r\n    setNotificationColor(color)\r\n    setTimeout(() => {\r\n      setNotification(null)\r\n    }, 3000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} color={notificationColor} />\r\n      <FilterForm handleFilterChange={handleFilterChange} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm handleNameChange={handleNameChange}\r\n       handleNumberChange={handleNumberChange}\r\n       handleFormSend={handleFormSend}\r\n       />\r\n      <h3>Numbers</h3>\r\n      <Persons showPersons={showPersons} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}